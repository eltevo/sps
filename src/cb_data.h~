#ifndef CB_DATA_H
#define CB_DATA_H

#include <iostream>
#include <fstream>
#include <vector>
#include <sstream>
#include <ctime>
#include <stdio.h>
#include <stdlib.h>
#include <math.h>

#include"table.h"

class cb_data{

public:
	int read_buff_atof();
	int get_data_from_model();

	int dust();
	
	int get_age();

	int get_sfr();
	int conv_to_age_vector();
	int conv_to_age_vector_trap();
	int opencl_convolve();
	int write_convresult();

private:
	std::vector<double> rawdata;
	std::vector<double> time;
	std::vector<double> wavelengths;
	int ntimesteps;
	int nspecsteps;
	int offset;
	int nfillingdata;

	double dust_tau_v;
	double dust_mu;

	double tau;
	std::vector<double> ages;
	int n_ages;

	table conv_result;

private:
	void dust_modif();
	double sfr( double, double);

};

#endif
